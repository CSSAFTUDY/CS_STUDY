# IP
>
IP, 인터넷에 연결된 장치(컴퓨터, 서버 장치, 스마트폰 등)를 식별할 수 있도록 장치에게 부여되는 **고유 주소**
- 네트워크 데이터가 우리에게 도달하기 위한 주소 정보

## IP 종류
- IPv4 (일반적인 IP)
- IPv6

### IPv4
- 첫 번째로 사용된 인터넷 프로토콜
- **8비트씩 4자리**
- . 을 기준으로 **4개의 숫자(0~255)**로 구분
  - 구분된 마디를 **옥텟** 이라고 부름
  - ex) 172.16.254.1
- 이를 2진법으로 변경하면 **32비트**로 표시가능
   - ex) 10101100.00010000.1111110.0000001
- 약 43억개의 주소를 지정 가능
_하지만 세계적으로 인터넷 사용자가 증가해서 IPv4 주소가 고갈될 위기에 처했고, 이 문제를 해결하기 위한 주소가 **IPv6**

### IPv6
![](https://velog.velcdn.com/images/parksegun/post/795e8e09-3a8f-4b50-bdd0-13c845ab49d3/image.png)
-  **16비트씩 8자리**
- 2^128 개의 주소를 갖고있기때문에 사실상 거의 무한대로 사용가능
- 네트워크 속도, 보안 등의 여러 부분에서 IPv4 보다 뛰어남
_많은 장점이 있지만 기존의 주소체계를 변경하는데 비용이 많이 들기에 완전한 상용화가 되지 않음_

#### 주소가 고갈되었는데 현재 불편함을 느끼지 못하는 이유는?
>
이미 IPv4의 주소는 고갈 난지 오래이다. 하지만 지금까지 문제없이 사용하고 있는 이유는 수학적인 **트릭**을 사용했기 때문이다. 이 트릭이 바로 **사설  IP 개념** 이다.

## 방식에 따른 IP 종류
- 고정 IP
- 유동 IP
- 공인 IP
- 사설 IP

### 고정 IP
- 이름 그대로 컴퓨에 **고정적으로 부여된 IP**
- 변하지 않음
- 한번 장치에 IP가 지정이 되었다면 반납을 하기전까지 다른 장비에 부여할 수 없음
- 보안성 좋음

### 유동 IP
- 이름 그대로 변하는 IP
- 인터넷에 접속하는 순간마다 사용하고 있지않은 **IP을 임시로 발급**
- 대부분의 사용자가 유동 IP 사용

### 공인 IP
- ICANN으로 부터 국가별 IP 관리
- 한국인터넷진흥원(KISA)이 국내 IP 관리
- KISA로 부터 ISP(KT, LG, SKT 와 같은 인터넷을 제공하는 업체)가 부여받음
- **우리는 이러한 업체들로부터 제공받는 IP가 공인 IP**

### 사설 IP
- 공유기 까지는 공인 IP를 할당
- 공유기에 연결된 장치들에게는 **사설 IP 할당**
- 어떤 네트워크 안에서 **내부적으로 사용되는 고유한 주소**
- 하나의 네트워크 안에서 유일
  - 때문에 내부에서만 접근이 가능

## 사설망
>
사설망, 공유기에 연결되어 있는 기기에는 사설IP를 할당하여 **그룹으로 묶는 방법**
- 반장을 뽑는 것으로 생각하면 쉬움
  - 학교의 회의에 모든 학생들이 참여할 수 없기에 반장을 뽑아서 대신 의견을 전달 하는 과정
    - 반장 : 게이트웨이
    > Gateway : 사용자가 다른 네트워크로 이동하기위해 반드시 거쳐야하는 거점

    - 반 : 사설망
    - 학생들 : 각 장치들
    - 학교 : 인터넷
    
![](https://velog.velcdn.com/images/parksegun/post/b73941bd-f344-4364-b369-2836de3d2f82/image.png)
- 사설망 내에서는 각각 독립적인 주소
- 사설망 외에서는 같은 이름 가능
  - 할당받은 공인 IP가 다르다면 이름이 같아도 됨
- 같은 IP는 공인 IP로 구분 가능
![](https://velog.velcdn.com/images/parksegun/post/6e3f9f03-b6bc-417d-996b-ed1b1c6520f8/image.png)
> 이처럼 사설망이라는 개념으로 IP 번호를 중복적으로 사용할 수 있게되었고 IP의 절약으로 고갈문제를 해결한다.

## NAT(Network Address Translation)
>
NAT란, 사설망안에 있는 컴퓨터들이 외부와 통신하는 방법
NAT : 네트워크 주소 번역

### NAT 번역 원리
![](https://velog.velcdn.com/images/parksegun/post/6f5efabe-78e5-4a07-85fa-1a159dd9e2fd/image.png)
공유기(라우터)의 역할이 중요하다
>
- 사내 컴퓨터의 **사설IP** 주소를 받아와서 공인 IP로 변경
- 외부 인터넷으로 공인 IP 주소를 보냄
- 외부 인터넷은 어떤 컴퓨터가 보냇는지에 상관없이 응답
- 다시 라우터가 이전에 요청을 보낸 컴퓨터를 기억하고 응답을 전달



